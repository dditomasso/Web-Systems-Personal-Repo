var all;var daily_play;var found;var foundlist=[];var guess;var letters=[],todayletters=[];var points;var rank1,rank2,rank3,rank4,rank5,rank6,rank7,rank8,rank9;var replaying;var total,todaytotal,yesterdaytotal;var win;var wordlist=[],todaywordlist=[],yesterdaywordlist=[];var words,todaywords,yesterdaywords;var dark;function darkmode(){if(dark==1){var a=document.querySelectorAll("*");for(var b=0;b<a.length;b++){if(a[b].className!="fg"&&a[b].className!="bg"){a[b].style.background="#fbfcff"}}dark=0;localStorage.setItem("useDarkMode",1)}else{var a=document.querySelectorAll("*");for(var b=0;b<a.length;b++){if(a[b].className!="fg"&&a[b].className!="bg"){a[b].style.background="#111111"}}dark=1;localStorage.setItem("useDarkMode",0)}}function type(b,a){document.getElementById("no-message").style.display="inline";document.getElementById("pangram").style.display="none";document.getElementById("already-found").style.display="none";document.getElementById("center-letter").style.display="none";document.getElementById("too-short").style.display="none";document.getElementById("not-in-list").style.display="none";document.getElementById("comb"+a).style.height="80px";document.getElementById("comb"+a).style.width="80px";document.getElementById("comb"+a).style.left=parseInt(document.getElementById("comb"+a).style.left)+10+"px";document.getElementById("comb"+a).style.top=parseInt(document.getElementById("comb"+a).style.top)+10+"px";document.getElementById("guess").value=document.getElementById("guess").value+b}function untype(){var a=document.getElementById("comb1");var g=document.getElementById("comb2");var f=document.getElementById("comb3");var e=document.getElementById("comb4");var d=document.getElementById("comb5");var c=document.getElementById("comb6");var b=document.getElementById("comb7");a.style.height="100px";a.style.width="100px";a.style.left="1px";a.style.top="51px";g.style.height="100px";g.style.width="100px";g.style.left="80px";g.style.top="1px";f.style.height="100px";f.style.width="100px";f.style.left="159px";f.style.top="51px";e.style.height="100px";e.style.width="100px";e.style.left="1px";e.style.top="149px";d.style.height="100px";d.style.width="100px";d.style.left="80px";d.style.top="199px";c.style.height="100px";c.style.width="100px";c.style.left="159px";c.style.top="149px";b.style.height="100px";b.style.width="100px";b.style.left="80px";b.style.top="100px"}var untype_var=untype();function display(){var g=0;var f=document.getElementById("play1");var e=document.getElementById("play2");var d=document.getElementById("play3");var c=document.getElementById("play4");var b=document.getElementById("play5");var a=document.getElementById("play6");var h=document.getElementById("play7");f.src=letters[0]+".png";f.style.left="21px";f.style.top="51px";f.ontouchstart=function(){g=1;type(letters[0],1)};f.onmousedown=function(){if(g!=1){type(letters[0],1)}};f.style.display="block";f.onmouseup=function(){untype_var};f.ondragend=function(){untype_var};f.ontouchend=function(){untype_var};f.ontouchcancel=function(){untype_var};e.src=letters[1]+".png";e.style.left="100px";e.style.top="1px";e.ontouchstart=function(){g=1;type(letters[1],2)};e.onmousedown=function(){if(g!=1){type(letters[1],2)}};e.style.display="block";e.onmouseup=function(){untype_var};e.ondragend=function(){untype_var};e.ontouchend=function(){untype_var};e.ontouchcancel=function(){untype_var};d.src=letters[2]+".png";d.style.left="179px";d.style.top="51px";d.ontouchstart=function(){g=1;type(letters[2],3)};d.onmousedown=function(){if(g!=1){type(letters[2],3)}};d.style.display="block";d.onmouseup=function(){untype_var};d.ondragend=function(){untype_var};d.ontouchend=function(){untype_var};d.ontouchcancel=function(){untype_var};c.src=letters[3]+".png";c.style.left="21px";c.style.top="149px";c.ontouchstart=function(){g=1;type(letters[3],4)};c.onmousedown=function(){if(g!=1){type(letters[3],4)}};c.style.display="block";c.onmouseup=function(){untype_var};c.ondragend=function(){untype_var};c.ontouchend=function(){untype_var};c.ontouchcancel=function(){untype_var};b.src=letters[4]+".png";b.style.left="100px";b.style.top="199px";b.ontouchstart=function(){g=1;type(letters[4],5)};b.onmousedown=function(){if(g!=1){type(letters[4],5)}};b.style.display="block";b.onmouseup=function(){untype_var};b.ondragend=function(){untype_var};b.ontouchend=function(){untype_var};b.ontouchcancel=function(){untype_var};a.src=letters[5]+".png";a.style.left="179px";a.style.top="149px";a.ontouchstart=function(){g=1;type(letters[5],6)};a.onmousedown=function(){if(g!=1){type(letters[5],6)}};a.style.display="block";a.onmouseup=function(){untype_var};a.ondragend=function(){untype_var};a.ontouchend=function(){untype_var};a.ontouchcancel=function(){untype_var};h.src=letters[6]+".png";h.style.left="100px";h.style.top="100px";h.ontouchstart=function(){g=1;type(letters[6][1],7)};h.onmousedown=function(){if(g!=1){type(letters[6][1],7)}};h.style.display="block";h.onmouseup=function(){untype_var};h.ondragend=function(){untype_var};h.ontouchend=function(){untype_var};h.ontouchcancel=function(){untype_var}}function update_rank(){var a;if(points>=rank9){if(win==0){alert("You earned the rank of Queen Bee!\n\nCan you find all the words?");win=1}a="Queen Bee!"}else{if(points>=rank8){a="Outstanding"}else{if(points>=rank7){a="Marvellous"}else{if(points>=rank6){a="Superb"}else{if(points>=rank5){a="Excellent"}else{if(points>=rank4){a="Skilled"}else{if(points>=rank3){a="Fine"}else{if(points>=rank2){a="Novice"}else{a="Newbie"}}}}}}}}document.getElementById("rank-update").innerHTML=a}function set_rank(){rank1=0;rank2=Math.floor(total*0.02);rank3=Math.floor(total*0.05);rank4=Math.floor(total*0.08);rank5=Math.floor(total*0.15);rank6=Math.floor(total*0.25);rank7=Math.floor(total*0.4);rank8=Math.floor(total*0.5);rank9=Math.floor(total*0.7)}function save_word(){localStorage.setItem("foundwords",JSON.stringify(foundlist))}function add_points(){var f=0,d=0,g=0,h=0,a=0,c=0;var e=0,b=0;if(daily_play===1){save_word()}e=guess.length;if(e<7){if(e==4){e=1}points=points+e;return}e=0;while(e<guess.length){for(b=0;b<7;b++){if(guess[e]==letters[b]){if(b==0){f=1}if(b==1){d=1}if(b==2){g=1}if(b==3){h=1}if(b==4){a=1}if(b==5){c=1}}}e=e+1}if(f==1&&d==1&&g==1&&h==1&&a==1&&c==1){points=points+guess.length+7;document.getElementById("no-message").style.display="none";document.getElementById("pangram").style.display="inline";return}points=points+guess.length}function found_word(){var a;for(a=0;a<found;a++){if(guess==foundlist[a]){document.getElementById("no-message").style.display="none";document.getElementById("already-found").style.display="inline";return 1}}foundlist.push(guess);found=found+1;add_points();document.getElementById("points-update").innerHTML=points;document.getElementById("answers-update").innerHTML=foundlist.join("<br />");update_rank();if(found==words){alert("Congratulations! You found all the words!");all=1}return 0}function check(){var a=0,b;document.getElementById("no-message").style.display="inline";document.getElementById("pangram").style.display="none";document.getElementById("already-found").style.display="none";document.getElementById("center-letter").style.display="none";document.getElementById("too-short").style.display="none";document.getElementById("not-in-list").style.display="none";if(replaying===0){guess=document.getElementById("guess").value.toLowerCase();document.getElementById("player-guess").reset()}else{guess=guess.toLowerCase()}for(b=0;b<guess.length;b++){if("7"+guess[b]==letters[6]){a=1}}if(guess.length<4){document.getElementById("no-message").style.display="none";document.getElementById("too-short").style.display="inline";return 1}if(a==0){document.getElementById("no-message").style.display="none";document.getElementById("center-letter").style.display="inline";return 1}for(b=0;b<words;b++){if(guess==wordlist[b]){b=found_word();return b}}document.getElementById("no-message").style.display="none";document.getElementById("not-in-list").style.display="inline";return 1}function replay_words(){var a,b;replaying=1;b=JSON.parse(localStorage.getItem("foundwords"));localStorage.removeItem("foundwords");for(a=0;a<b.length;a++){guess=b[a];if(check()==1){localStorage.removeItem("foundwords");for(a=0;a<found;a++){foundlist.pop()}all=0;found=0;points=0;rank="Newbie";win=0;document.getElementById("no-message").style.display="inline";document.getElementById("pangram").style.display="none";document.getElementById("already-found").style.display="none";document.getElementById("center-letter").style.display="none";document.getElementById("too-short").style.display="none";document.getElementById("not-in-list").style.display="none";replaying=0;return}}document.getElementById("no-message").style.display="inline";document.getElementById("pangram").style.display="none";document.getElementById("already-found").style.display="none";document.getElementById("center-letter").style.display="none";document.getElementById("too-short").style.display="none";document.getElementById("not-in-list").style.display="none";replaying=0}function daily(){var a;daily_play=1;for(a=0;a<found;a++){foundlist.pop()}all=0;found=0;points=0;rank="Newbie";replaying=0;win=0;document.getElementById("points-update").innerHTML=points;document.getElementById("answers-update").innerHTML=foundlist.join("<br />");document.getElementById("rank-update").innerHTML=rank;document.getElementById("yesterday-or-random").innerHTML="Yesterday's answers";document.getElementById("random-answers").style.display="none";document.getElementById("restart-daily-button").style.visibility="hidden";document.getElementById("update-random").innerHTML="";document.getElementById("no-message").style.display="inline";document.getElementById("pangram").style.display="none";document.getElementById("already-found").style.display="none";document.getElementById("center-letter").style.display="none";document.getElementById("too-short").style.display="none";document.getElementById("not-in-list").style.display="none";document.getElementById("play1").style.display="none";document.getElementById("play2").style.display="none";document.getElementById("play3").style.display="none";document.getElementById("play4").style.display="none";document.getElementById("play5").style.display="none";document.getElementById("play6").style.display="none";document.getElementById("play7").style.display="none";letters[0]=todayletters[0];letters[1]=todayletters[1];letters[2]=todayletters[2];letters[3]=todayletters[3];letters[4]=todayletters[4];letters[5]=todayletters[5];letters[6]=todayletters[6];words=todaywords;total=todaytotal;wordlist=todaywordlist;set_rank();if(localStorage.hasOwnProperty("foundwords")===true){replay_words()}document.getElementById("update-random").innerHTML=yesterdaywordlist.join("<br />")+"<br /><br />Total words:  "+yesterdaywords+"<br />Total points: "+yesterdaytotal+"<br />Points for Queen Bee: "+Math.floor(yesterdaytotal*0.7);display()}function get_yesterday(){var a=new XMLHttpRequest();a.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var b=JSON.parse(this.responseText);yesterdaywords=b.words;yesterdaytotal=b.total;yesterdaywordlist=b.wordlist}};a.open("GET","yesterday",true);a.send()}function get_today(){var a=new XMLHttpRequest();a.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var b=JSON.parse(this.responseText);todayletters[0]=b.letters[0];todayletters[1]=b.letters[1];todayletters[2]=b.letters[2];todayletters[3]=b.letters[3];todayletters[4]=b.letters[4];todayletters[5]=b.letters[5];todayletters[6]="7"+b.center;todaywords=b.words;todaytotal=b.total;todaywordlist=b.wordlist;daily()}};a.open("GET","today",true);a.send()}window.onload=function(){var a=document.getElementById("comb1");var g=document.getElementById("comb2");var f=document.getElementById("comb3");var e=document.getElementById("comb4");var d=document.getElementById("comb5");var c=document.getElementById("comb6");var b=document.getElementById("comb7");a.style.height="100px";a.style.width="100px";a.style.left="1px";a.style.top="51px";g.style.height="100px";g.style.width="100px";g.style.left="80px";g.style.top="1px";f.style.height="100px";f.style.width="100px";f.style.left="159px";f.style.top="51px";e.style.height="100px";e.style.width="100px";e.style.left="1px";e.style.top="149px";d.style.height="100px";d.style.width="100px";d.style.left="80px";d.style.top="199px";c.style.height="100px";c.style.width="100px";c.style.left="159px";c.style.top="149px";b.style.height="100px";b.style.width="100px";b.style.left="80px";b.style.top="100px";get_yesterday();get_today();if(localStorage.hasOwnProperty("useDarkMode")===true){dark=Number(localStorage.getItem("useDarkMode"))}else{dark=1}darkmode()};function shuffle(){var c,a,b;for(c=5;c>0;c--){a=Math.floor(Math.random()*(c+1));b=letters[a];letters[a]=letters[c];letters[c]=b}display()}function random(){var b=new XMLHttpRequest();var a;daily_play=0;for(a=0;a<found;a++){foundlist.pop()}all=0;found=0;points=0;rank="Newbie";win=0;document.getElementById("points-update").innerHTML=points;document.getElementById("answers-update").innerHTML=foundlist.join("<br />");document.getElementById("rank-update").innerHTML=rank;document.getElementById("yesterday-or-random").innerHTML="Answers";document.getElementById("update-random").innerHTML="";document.getElementById("no-message").style.display="inline";document.getElementById("pangram").style.display="none";document.getElementById("already-found").style.display="none";document.getElementById("center-letter").style.display="none";document.getElementById("too-short").style.display="none";document.getElementById("not-in-list").style.display="none";document.getElementById("play1").style.display="none";document.getElementById("play2").style.display="none";document.getElementById("play3").style.display="none";document.getElementById("play4").style.display="none";document.getElementById("play5").style.display="none";document.getElementById("play6").style.display="none";document.getElementById("play7").style.display="none";b.onreadystatechange=function(){if(this.readyState==4&&this.status==200){var c=JSON.parse(this.responseText);letters[0]=c.letters[0];letters[1]=c.letters[1];letters[2]=c.letters[2];letters[3]=c.letters[3];letters[4]=c.letters[4];letters[5]=c.letters[5];letters[6]="7"+c.center;words=c.words;total=c.total;wordlist=c.wordlist;set_rank();display();document.getElementById("random-answers").style.display="block";document.getElementById("restart-daily-button").style.visibility="visible"}};b.open("GET","../../cgi-bin/random",true);b.send()}function show_random(){document.getElementById("update-random").innerHTML=wordlist.join("<br />")+"<br /><br />Total words:  "+words+"<br />Total points: "+total+"<br />Points for Queen Bee: "+Math.floor(total*0.7)}function delete_letter(){var b=document.getElementById("guess").value;var a=b.length;b=b.slice(0,a-1)+b.slice(a,a);document.getElementById("guess").value=b};